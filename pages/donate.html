<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Donate-Green Minds Youth Initiative</title>
  <link rel="icon" href="../images/green-minds-logo.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="../styles.css">
</head>
<body>
<!-- Combined Header & Navigation -->
<header class="combined-header">
  <div class="header-nav-container">
    <!-- Logo and Brand -->
    <div class="header-brand">
      <img src="../images/green-minds-logo.png" alt="Green Minds Logo" class="header-logo">
      <div class="header-text">
        <h1 class="header-title">DONATE</h1>
        <p class="header-subtitle">Support Our Cause</p>
      </div>
    </div>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" id="mobileMenuBtn">
      <i class="fas fa-bars"></i>
    </button>

    <!-- Navigation Content -->
    <div class="header-nav-content" id="headerNavContent">
      <!-- Navigation Menu -->
      <ul class="nav-menu">
        <li><a href="../index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="projects.html">Projects</a></li>
        <li><a href="donate.html"class="active">Donate</a></li>
        <li><a href="contact.html">contact</a></li>
      </ul>

      <!-- Search and Social Icons -->
      <div class="header-utilities">
        <div class="search-container">
          <input type="search" placeholder="Search..." id="searchInput">
          <button type="button" id="searchButton"><i class="fas fa-search"></i></button>
          <div class="search-results" id="searchResults"></div>
        </div>
        
        <div class="social-icons">
          <a href="https://www.facebook.com/profile.php?id=61569551323460" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
          <a href="https://www.instagram.com/greenmindsyouthinitiative?utm_source=qr&igsh=dXdjbzA1bXltZGU=" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="mailto:greenmindsyouthinitiative20@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
          <a href="https://wa.me/+254769718607" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
          <a href="https://linkedin.com/green-minds-youth-initiative/" target="_blank" aria-label="LinkedIn"><i class="fab fa-linkedin"></i></a>
        </div>
      </div>
    </div>
  </div>
</header>
<!-- Breadcrumb Navigation -->
  <nav class="breadcrumb">
    <div class="nav-container">
      <a href="index.html">Home</a>
      <span class="breadcrumb-separator">/</span>
      <span>Donate</span>
    </div>
  </nav>
  <style>
    /* Donation-specific styles */
    .donate-hero {
      background: linear-gradient(135deg, rgba(46, 139, 87, 0.9) 0%, rgba(61, 165, 106, 0.8) 100%), url('images/donate-hero.jpg') center/cover no-repeat;
      color: var(--white);
      padding: 80px 20px;
      text-align: center;
      margin-bottom: 40px;
    }

    .donation-options {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 30px;
      margin: 40px 0;
    }

    .donation-option {
      background: var(--white);
      padding: 30px;
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
      text-align: center;
      border: 2px solid var(--light-gray);
      transition: var(--transition);
    }

    .donation-option:hover {
      border-color: var(--dark-green);
      transform: translateY(-5px);
    }

    .donation-option.featured {
      border-color: var(--dark-green);
      position: relative;
      background: linear-gradient(135deg, var(--white) 0%, var(--light-beige) 100%);
    }

    .donation-option.featured::before {
      content: 'Most Popular';
      position: absolute;
      top: -10px;
      left: 50%;
      transform: translateX(-50%);
      background: var(--dark-green);
      color: var(--white);
      padding: 5px 15px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: bold;
    }

    .donation-option i {
      font-size: 3rem;
      color: var(--dark-green);
      margin-bottom: 20px;
    }

    .donation-amount {
      font-size: 2.5rem;
      font-weight: bold;
      color: var(--dark-green);
      margin: 15px 0;
    }

    .amount-description {
      color: var(--medium-gray);
      margin-bottom: 20px;
      min-height: 60px;
    }

    .payment-methods {
      background: var(--light-beige);
      padding: 40px;
      border-radius: var(--border-radius);
      margin: 40px 0;
      border: 1px solid var(--light-gray);
    }

    .method-tabs {
      display: flex;
      gap: 10px;
      margin-bottom: 30px;
      flex-wrap: wrap;
    }

    .method-tab {
      flex: 1;
      min-width: 120px;
      padding: 15px;
      background: var(--white);
      border: 2px solid var(--light-gray);
      border-radius: var(--border-radius);
      text-align: center;
      cursor: pointer;
      transition: var(--transition);
    }

    .method-tab.active {
      border-color: var(--dark-green);
      background: var(--dark-green);
      color: var(--white);
    }

    .method-tab i {
      font-size: 1.5rem;
      margin-bottom: 10px;
      display: block;
    }

    .payment-form {
      display: none;
    }

    .payment-form.active {
      display: block;
      animation: fadeIn 0.5s ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    .form-group {
      margin-bottom: 20px;
    }

    .form-group label {
      display: block;
      margin-bottom: 8px;
      font-weight: 600;
      color: var(--dark-gray);
    }

    .form-group input, .form-group select {
      width: 100%;
      padding: 12px 15px;
      border: 1px solid #ddd;
      border-radius: var(--border-radius);
      font-size: 1rem;
      transition: var(--transition);
    }

    .form-group input:focus, .form-group select:focus {
      outline: none;
      border-color: var(--dark-green);
      box-shadow: 0 0 0 2px rgba(46, 139, 87, 0.1);
    }

    .mpesa-steps {
      background: var(--white);
      padding: 25px;
      border-radius: var(--border-radius);
      margin-top: 20px;
      border: 1px solid var(--light-gray);
    }

    .step {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
      padding: 15px;
      background: var(--light-gray);
      border-radius: var(--border-radius);
    }

    .step-number {
      background: var(--dark-green);
      color: var(--white);
      width: 30px;
      height: 30px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      flex-shrink: 0;
    }

    .impact-breakdown {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .impact-item {
      text-align: center;
      padding: 25px;
      background: var(--white);
      border-radius: var(--border-radius);
      box-shadow: var(--shadow);
    }

    .impact-item i {
      font-size: 2.5rem;
      color: var(--dark-green);
      margin-bottom: 15px;
    }

    .donation-custom {
      background: var(--beige);
      padding: 40px;
      border-radius: var(--border-radius);
      margin: 40px 0;
      text-align: center;
      border: 1px solid var(--light-gray);
    }

    .custom-amounts {
      display: flex;
      gap: 10px;
      justify-content: center;
      flex-wrap: wrap;
      margin: 20px 0;
    }

    .amount-btn {
      padding: 12px 20px;
      background: var(--white);
      border: 2px solid var(--light-gray);
      border-radius: var(--border-radius);
      cursor: pointer;
      transition: var(--transition);
      font-weight: 600;
    }

    .amount-btn:hover, .amount-btn.active {
      border-color: var(--dark-green);
      background: var(--dark-green);
      color: var(--white);
    }

    .custom-input {
      max-width: 300px;
      margin: 0 auto;
    }

    .custom-input input {
      text-align: center;
      font-size: 1.2rem;
      font-weight: bold;
    }

    .security-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 15px;
      margin-top: 20px;
      color: var(--medium-gray);
      font-size: 0.9rem;
    }

    .security-badge i {
      color: var(--dark-green);
    }

    .loading-spinner {
      display: none;
      text-align: center;
      margin: 20px 0;
    }

    .spinner {
      border: 4px solid var(--light-gray);
      border-top: 4px solid var(--dark-green);
      border-radius: 50%;
      width: 40px;
      height: 40px;
      animation: spin 1s linear infinite;
      margin: 0 auto 10px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    .success-message {
      display: none;
      background: var(--light-beige);
      padding: 30px;
      border-radius: var(--border-radius);
      text-align: center;
      margin: 20px 0;
      border-left: 4px solid var(--medium-green);
    }

    .success-message i {
      font-size: 3rem;
      color: var(--medium-green);
      margin-bottom: 15px;
    }

    .mpesa-details-card {
      background: var(--white);
      padding: 20px;
      border-radius: var(--border-radius);
      border: 2px solid var(--dark-green);
      margin: 20px 0;
      text-align: center;
    }

    .mpesa-details-card h4 {
      color: var(--dark-green);
      margin-bottom: 15px;
    }

    .detail-item {
      display: flex;
      justify-content: space-between;
      margin: 10px 0;
      padding: 10px;
      background: var(--light-beige);
      border-radius: 5px;
    }

    .detail-label {
      font-weight: bold;
      color: var(--dark-gray);
    }

    .detail-value {
      font-weight: bold;
      color: var(--dark-green);
    }
  </style>
</head>
<body>
  
  

  <!-- Main Content -->
  <main>
    <!-- Donation Hero Section -->
    <section class="donate-hero">
      <div class="section-title">
        <h1>Support Environmental Conservation</h1>
        <p>Your contribution helps us create sustainable impact in Kwale County communities</p>
      </div>
    </section>

    <section class="section">
      <div class="content-section">
        <h2>Choose Your Impact</h2>
        <p>Select a donation amount that matches your desire to create change. Every shilling makes a difference in our environmental conservation efforts.</p>

        <div class="donation-options">
          <div class="donation-option">
            <i class="fas fa-seedling"></i>
            <h3>Plant Trees</h3>
            <div class="donation-amount">KES 500</div>
            <div class="amount-description">Plants 10 native tree seedlings and supports their care for one year</div>
            <button class="btn" onclick="selectAmount(500)">Donate KES 500</button>
          </div>

          <div class="donation-option featured">
            <i class="fas fa-recycle"></i>
            <h3>Support Recycling</h3>
            <div class="donation-amount">KES 1,000</div>
            <div class="amount-description">Funds waste collection and recycling for 5 households for one month</div>
            <button class="btn" onclick="selectAmount(1000)">Donate KES 1,000</button>
          </div>

          <div class="donation-option">
            <i class="fas fa-graduation-cap"></i>
            <h3>Educate Children</h3>
            <div class="donation-amount">KES 2,500</div>
            <div class="amount-description">Provides environmental education materials for one school for three months</div>
            <button class="btn" onclick="selectAmount(2500)">Donate KES 2,500</button>
          </div>
        </div>

        <!-- Custom Donation -->
        <div class="donation-custom">
          <h3>Or Choose Your Own Amount</h3>
          <div class="custom-amounts">
            <button class="amount-btn" onclick="selectAmount(200)">KES 200</button>
            <button class="amount-btn" onclick="selectAmount(500)">KES 500</button>
            <button class="amount-btn" onclick="selectAmount(1000)">KES 1,000</button>
            <button class="amount-btn" onclick="selectAmount(5000)">KES 5,000</button>
            <button class="amount-btn" onclick="selectAmount(10000)">KES 10,000</button>
          </div>
          <div class="form-group custom-input">
            <label for="customAmount">Enter Custom Amount (KES)</label>
            <input type="number" id="customAmount" placeholder="Enter amount" min="100" step="100">
            <button class="btn" style="margin-top: 15px; width: 100%;" onclick="selectCustomAmount()">Donate Custom Amount</button>
          </div>
        </div>

        <!-- Payment Methods -->
        <div class="payment-methods">
          <h2 style="text-align: center; margin-bottom: 30px;">Select Payment Method</h2>
          
          <div class="method-tabs">
            <div class="method-tab active" data-method="mpesa">
              <i class="fab fa-mpesa"></i>
              <span>M-Pesa</span>
            </div>
            <div class="method-tab" data-method="card">
              <i class="fas fa-credit-card"></i>
              <span>Card</span>
            </div>
            <div class="method-tab" data-method="bank">
              <i class="fas fa-university"></i>
              <span>Bank Transfer</span>
            </div>
          </div>

          <!-- M-Pesa Payment Form -->
          <div class="payment-form active" id="mpesaForm">
            <h3>Pay with M-Pesa</h3>
            
            <!-- M-Pesa Details Card -->
            <div class="mpesa-details-card">
              <h4>M-Pesa Payment Details</h4>
              <div class="detail-item">
                <span class="detail-label">Paybill Number:</span>
                <span class="detail-value">247247</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Account Number:</span>
                <span class="detail-value">654333</span>
              </div>
              <div class="detail-item">
                <span class="detail-label">Amount:</span>
                <span class="detail-value" id="mpesaDetailAmount">KES 1,000</span>
              </div>
            </div>
            
            <form id="mpesaDonationForm">
              <div class="form-group">
                <label for="phoneNumber">M-Pesa Phone Number (for receipt)</label>
                <input type="tel" id="phoneNumber" placeholder="07XX XXX XXX" required pattern="[0-9]{10}">
              </div>
              
              <div class="form-group">
                <label>Donation Amount</label>
                <input type="text" id="mpesaAmount" readonly style="background: var(--light-gray); font-weight: bold; font-size: 1.2rem;">
              </div>

              <div class="mpesa-steps">
                <h4>How to complete your M-Pesa donation:</h4>
                <div class="step">
                  <div class="step-number">1</div>
                  <div>Go to <strong>M-PESA</strong> on your phone</div>
                </div>
                <div class="step">
                  <div class="step-number">2</div>
                  <div>Select <strong>Lipa Na M-PESA</strong></div>
                </div>
                <div class="step">
                  <div class="step-number">3</div>
                  <div>Select <strong>Pay Bill</strong></div>
                </div>
                <div class="step">
                  <div class="step-number">4</div>
                  <div>Enter Business Number: <strong>247247</strong></div>
                </div>
                <div class="step">
                  <div class="step-number">5</div>
                  <div>Enter Account Number: <strong>654333</strong></div>
                </div>
                <div class="step">
                  <div class="step-number">6</div>
                  <div>Enter Amount: <strong id="stepAmount">KES 1,000</strong></div>
                </div>
                <div class="step">
                  <div class="step-number">7</div>
                  <div>Enter your M-PESA PIN and confirm</div>
                </div>
              </div>

              <div class="loading-spinner" id="mpesaLoading">
                <div class="spinner"></div>
                <p>Please complete the M-Pesa payment on your phone using the steps above.</p>
              </div>

              <div class="success-message" id="mpesaSuccess">
                <i class="fas fa-check-circle"></i>
                <h3>Donation Successful!</h3>
                <p>Thank you for your generous support. You will receive an M-Pesa confirmation shortly.</p>
                <button type="button" class="btn" onclick="resetForm()">Make Another Donation</button>
              </div>

              <button type="submit" class="btn" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-mobile-alt"></i> I've Completed M-Pesa Payment
              </button>
            </form>
          </div>

          <!-- Card Payment Form -->
          <div class="payment-form" id="cardForm">
            <h3>Pay with Card</h3>
            <form>
              <div class="form-group">
                <label for="cardNumber">Card Number</label>
                <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" required>
              </div>
              
              <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                <div class="form-group">
                  <label for="expiryDate">Expiry Date</label>
                  <input type="text" id="expiryDate" placeholder="MM/YY" required>
                </div>
                <div class="form-group">
                  <label for="cvv">CVV</label>
                  <input type="text" id="cvv" placeholder="123" required>
                </div>
              </div>

              <div class="form-group">
                <label for="cardAmount">Donation Amount</label>
                <input type="text" id="cardAmount" readonly style="background: var(--light-gray); font-weight: bold; font-size: 1.2rem;">
              </div>

              <button type="button" class="btn" style="width: 100%; margin-top: 20px;">
                <i class="fas fa-credit-card"></i> Donate Now
              </button>
            </form>
          </div>

          <!-- Bank Transfer Form -->
          <div class="payment-form" id="bankForm">
            <h3>Bank Transfer</h3>
            <div class="bank-details">
              <div style="background: var(--white); padding: 25px; border-radius: var(--border-radius); margin-bottom: 20px;">
                <h4>Account Details</h4>
                <p><strong>Bank:</strong> EQUITY BANK</p>
                <p><strong>Account Name:</strong> GREEN MINDS YOUTH INITIATIVE</p>
                <p><strong>Account Number:</strong> 04401859229903</p>
                <p><strong>Swift Code:</strong> EQBLKENA</p>
              </div>
              
              <div class="form-group">
                <label for="bankAmount">Donation Amount</label>
                <input type="text" id="bankAmount" readonly style="background: var(--light-gray); font-weight: bold; font-size: 1.2rem;">
              </div>

              <p style="text-align: center; color: var(--medium-gray);">
                After making your transfer, please email the receipt to 
                <a href="mailto:greenmindsyouthinitiative20@gmail.com">greenmindsyouthinitiative20@gmail.com</a>
              </p>
              
              <div style="background: var(--light-beige); padding: 20px; border-radius: var(--border-radius); margin-top: 20px;">
                <p><strong>Contact Equity Bank:</strong></p>
                <p>Phone: 0763 063 000</p>
                <p>Email: info@equitybank.co.ke</p>
                <p>Website: <a href="http://equitygroupholdings.com/ke" target="_blank">equitygroupholdings.com/ke</a></p>
              </div>
            </div>
          </div>

          <div class="security-badge">
            <i class="fas fa-shield-alt"></i>
            <span>Your donation is secure and encrypted</span>
          </div>
        </div>
      </div>

      <!-- Impact Breakdown -->
      <div class="impact-breakdown">
        <div class="impact-item">
          <i class="fas fa-tree"></i>
          <h3>Tree Planting</h3>
          <p>30% of donations support our reforestation efforts and community nurseries</p>
        </div>
        <div class="impact-item">
          <i class="fas fa-recycle"></i>
          <h3>Waste Management</h3>
          <p>25% funds recycling centers and community clean-up activities</p>
        </div>
        <div class="impact-item">
          <i class="fas fa-graduation-cap"></i>
          <h3>Education</h3>
          <p>30% supports environmental education in schools and communities</p>
        </div>
        <div class="impact-item">
          <i class="fas fa-cogs"></i>
          <h3>Administration</h3>
          <p>15% covers operational costs to ensure maximum impact</p>
        </div>
      </div>

      <!-- Transparency Section -->
      <div class="content-section">
        <h2>Transparency & Accountability</h2>
        <p>We are committed to transparency in how we use your donations. Here's how we ensure accountability:</p>
        <ul>
          <li><strong>Regular Reports:</strong> Quarterly impact reports shared with all donors</li>
          <li><strong>Financial Audits:</strong> Annual independent financial audits</li>
          <li><strong>Project Monitoring:</strong> Real-time tracking of project implementation</li>
          <li><strong>Donor Updates:</strong> Personalized updates on how your specific donation was used</li>
          <li><strong>Community Feedback:</strong> Regular feedback from beneficiary communities</li>
        </ul>
        <p>Your trust is our priority. Together, we can create lasting environmental change.</p>
      </div>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <img src="../images/fazil-chinoy-logo.jpg" alt="Fazil Chinoy Fellowship" class="footer-logo">
      
      <div class="footer-middle">
        <div class="footer-social">
          <a href="https://www.facebook.com/profile.php?id=61569551323460" target="_blank" aria-label="Facebook"><i class="fab fa-facebook"></i></a>
          <a href="https://www.instagram.com/greenmindsyouthinitiative?utm_source=qr&igsh=dXdjbzA1bXltZGU=" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
          <a href="mailto:greenmindsyouthinitiative20@gmail.com" aria-label="Email"><i class="fas fa-envelope"></i></a>
          <a href="https://wa.me/+254769718607" target="_blank" aria-label="WhatsApp"><i class="fab fa-whatsapp"></i></a>
        </div>
        
        <div class="footer-links">
          <a href="../index.html">Home</a>
          <a href="about.html">About</a>
          <a href="projects.html">Projects</a>
          <a href="contact.html">Contact</a>
        </div>

        <!-- Legal Links -->
        <div class="legal-links">
          <a href="privacy.html">Privacy Policy</a>
          <a href="terms.html">Terms of Service</a>
          <a href="contact.html">Contact Us</a>
        </div>
        
        <p class="copyright">&copy; 2025 Green Minds Youth Initiative. All Rights Reserved.</p>
      </div>
      
      <img src="../images/sambasports-logo.jpg" alt="SambaSports Youth Trust" class="footer-logo">
    </div>
  </footer>

  <script>
    // Global variable to store selected amount
    let selectedAmount = 1000; // Default amount

    // Initialize page
    document.addEventListener('DOMContentLoaded', function() {
      updateAmountDisplay();
      setupEventListeners();
      
      // Mobile menu functionality
      const mobileMenuBtn = document.getElementById('mobileMenuBtn');
      const headerNavContent = document.getElementById('headerNavContent');
      
      if (mobileMenuBtn && headerNavContent) {
        mobileMenuBtn.addEventListener('click', function() {
          headerNavContent.classList.toggle('mobile-open');
        });
        
        // Close mobile menu when clicking outside
        document.addEventListener('click', function(event) {
          if (!event.target.closest('.header-nav-container')) {
            headerNavContent.classList.remove('mobile-open');
          }
        });
      }
    });

    // Set up event listeners
    function setupEventListeners() {
      // Payment method tabs
      const methodTabs = document.querySelectorAll('.method-tab');
      methodTabs.forEach(tab => {
        tab.addEventListener('click', function() {
          const method = this.getAttribute('data-method');
          switchPaymentMethod(method);
        });
      });

      // M-Pesa form submission
      document.getElementById('mpesaDonationForm').addEventListener('submit', function(e) {
        e.preventDefault();
        processMpesaDonation();
      });

      // Custom amount input
      document.getElementById('customAmount').addEventListener('input', function() {
        const value = parseInt(this.value) || 0;
        if (value >= 100) {
          selectedAmount = value;
          updateAmountDisplay();
        }
      });

      // Format phone number automatically
      document.getElementById('phoneNumber').addEventListener('input', function(e) {
        let value = e.target.value.replace(/\D/g, '');
        if (value.startsWith('0') && value.length <= 10) {
          value = value.substring(0, 10);
        } else if (value.startsWith('254') && value.length <= 12) {
          value = value.substring(0, 12);
        }
        e.target.value = value;
      });
    }

    // Select predefined amount
    function selectAmount(amount) {
      selectedAmount = amount;
      updateAmountDisplay();
      
      // Scroll to payment section
      document.querySelector('.payment-methods').scrollIntoView({ 
        behavior: 'smooth' 
      });
    }

    // Select custom amount
    function selectCustomAmount() {
      const customInput = document.getElementById('customAmount');
      const amount = parseInt(customInput.value);
      
      if (amount && amount >= 100) {
        selectAmount(amount);
      } else {
        alert('Please enter a valid amount (minimum KES 100)');
        customInput.focus();
      }
    }

    // Update amount display across all payment methods
    function updateAmountDisplay() {
      const formattedAmount = 'KES ' + selectedAmount.toLocaleString();
      
      // Update all amount displays
      document.getElementById('mpesaAmount').value = formattedAmount;
      document.getElementById('cardAmount').value = formattedAmount;
      document.getElementById('bankAmount').value = formattedAmount;
      
      // Update M-Pesa step amount and detail card
      document.getElementById('stepAmount').textContent = formattedAmount;
      document.getElementById('mpesaDetailAmount').textContent = formattedAmount;
      
      // Update custom amount input
      document.getElementById('customAmount').value = selectedAmount;
      
      // Update button active states
      document.querySelectorAll('.amount-btn').forEach(btn => {
        const btnAmount = parseInt(btn.textContent.replace('KES ', '').replace(',', ''));
        btn.classList.toggle('active', btnAmount === selectedAmount);
      });
    }

    // Switch between payment methods
    function switchPaymentMethod(method) {
      // Update active tab
      document.querySelectorAll('.method-tab').forEach(tab => {
        tab.classList.toggle('active', tab.getAttribute('data-method') === method);
      });

      // Show corresponding form
      document.querySelectorAll('.payment-form').forEach(form => {
        form.classList.toggle('active', form.id === method + 'Form');
      });
    }

    // Process M-Pesa donation
    function processMpesaDonation() {
      const phoneNumber = document.getElementById('phoneNumber').value;
      
      // Validate phone number
      if (!isValidPhoneNumber(phoneNumber)) {
        alert('Please enter a valid Kenyan phone number (e.g., 0712345678)');
        return;
      }

      // Show loading spinner with updated message
      const loadingSpinner = document.getElementById('mpesaLoading');
      loadingSpinner.style.display = 'block';

      // Since this is manual M-Pesa, we'll simulate a successful donation
      // In a real implementation, you might want to track pending donations
      simulateMpesaPayment(phoneNumber, selectedAmount);
    }

    // Validate Kenyan phone number
    function isValidPhoneNumber(phone) {
      const cleaned = phone.replace(/\D/g, '');
      // Handle numbers starting with 254
      if (cleaned.length === 12 && cleaned.startsWith('254')) {
        return true;
      }
      // Handle numbers starting with 0
      if (cleaned.length === 10 && cleaned.startsWith('0')) {
        return true;
      }
      return false;
    }

    // Simulate M-Pesa payment (Replace with actual Daraja API integration)
    function simulateMpesaPayment(phoneNumber, amount) {
      // In a real implementation, you would call the Safaricom Daraja API here
      // This is a simulation for demonstration purposes

      console.log('M-Pesa payment details:');
      console.log('Phone:', phoneNumber);
      console.log('Amount:', amount);
      console.log('Paybill: 247247');
      console.log('Account: 654333');

      // Simulate API delay
      setTimeout(() => {
        // Hide loading spinner
        document.getElementById('mpesaLoading').style.display = 'none';
        
        // Show success message
        document.getElementById('mpesaSuccess').style.display = 'block';
        
        // Log transaction (in real implementation, save to database)
        logTransaction(phoneNumber, amount, 'mpesa', 'completed');
        
      }, 2000);
    }

    // Log transaction (for demonstration - replace with actual backend)
    function logTransaction(phone, amount, method, status) {
      const transaction = {
        phone: phone,
        amount: amount,
        method: method,
        status: status,
        timestamp: new Date().toISOString(),
        transactionId: 'GM' + Date.now()
      };
      
      console.log('Transaction logged:', transaction);
      // In real implementation, send this data to your backend
    }

    // Reset form for another donation
    function resetForm() {
      document.getElementById('mpesaSuccess').style.display = 'none';
      document.getElementById('phoneNumber').value = '';
      selectedAmount = 1000;
      updateAmountDisplay();
    }

    // Show M-Pesa details clearly
    function showMpesaDetails() {
      const details = `
        M-Pesa Donation Details:
        • Paybill Number: 247247
        • Account Number: 654333
        • Amount: KES ${selectedAmount.toLocaleString()}
        • Reference: Green Minds Youth Initiative
      `;
      console.log(details);
    }
  </script>
  <script src="script.js"></script>
</body>
</html>